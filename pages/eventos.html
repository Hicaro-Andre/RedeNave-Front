<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Eventos - Rede NAVE</title>

    <!-- Favicon -->
    <link
      rel="icon"
      type="image/svg+xml"
      href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üöÄ</text></svg>"
    />

    <!-- Theme Color -->
    <meta name="theme-color" content="#667eea" />

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />

    <!-- Bootstrap Icons -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css"
      rel="stylesheet"
    />

    <!-- CSS Customizado -->
    <link rel="stylesheet" href="../styles/eventos.css" />
    <link rel="stylesheet" href="../styles/globals.css" />
  </head>
  <body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg bg-primary sticky-top" data-bs-theme="dark">
      <div class="container">
        <a class="navbar-brand fw-bold" href="../index.html">
          Rede NAVE
        </a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNav"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav ms-auto">
            <li class="nav-item">
              <a class="nav-link" href="../index.html">In√≠cio</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="trilhas.html">Trilhas</a>
            </li>
            <li class="nav-item">
              <a class="nav-link active" href="eventos.html">Eventos</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="sobre.html">Sobre</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="suporte.html">Suporte</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="login.html">
                <i class="bi bi-box-arrow-in-right"></i> Entrar
              </a>
            </li>
            <li class="nav-item">
              <a class="btn btn-warning btn-sm ms-2" href="cadastro.html">
                Cadastre-se
              </a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <!-- Hero Section -->
    <section class="bg-primary text-white text-center py-5">
      <div class="container">
        <h1 class="display-4 fw-bold mb-3">Agenda de Eventos</h1>
        <p class="lead">Participe de workshops, feiras, lives e muito mais!</p>
      </div>
    </section>

    <!-- Tabs de Filtro -->
    <section class="py-4 bg-light">
      <div class="container">
        <ul
          class="nav nav-pills justify-content-center"
          id="eventosTabs"
          role="tablist"
        >
          <li class="nav-item" role="presentation">
            <button class="nav-link active" onclick="filtrarEventos('todos')">
              <i class="bi bi-calendar-event"></i> Todos
            </button>
          </li>
          <li class="nav-item" role="presentation">
            <button class="nav-link" onclick="filtrarEventos('Workshop')">
              <i class="bi bi-laptop"></i> Workshops
            </button>
          </li>
          <li class="nav-item" role="presentation">
            <button class="nav-link" onclick="filtrarEventos('Live')">
              <i class="bi bi-camera-video"></i> Lives
            </button>
          </li>
          <li class="nav-item" role="presentation">
            <button class="nav-link" onclick="filtrarEventos('Feira')">
              <i class="bi bi-shop"></i> Feiras
            </button>
          </li>
        </ul>
      </div>
    </section>

    <!-- Pr√≥ximo Evento em Destaque -->
    <section class="py-5">
      <div class="container">
        <h2 class="fw-bold mb-4 text-center">Pr√≥ximo Evento üî•</h2>
        <div class="row justify-content-center">
          <div class="col-lg-8">
            <div class="event-header">
              <div class="row align-items-center">
                <div class="col-md-8">
                  <span class="badge bg-warning text-dark mb-2"
                    >WORKSHOP ONLINE</span
                  >
                  <h3 class="fw-bold mb-3">
                    Precifica√ß√£o Inteligente para Empreendedoras
                  </h3>
                  <p class="mb-3">
                    <i class="bi bi-calendar"></i> 15 de Novembro, 2025<br />
                    <i class="bi bi-clock"></i> 19:00 - 21:00 (Hor√°rio de
                    Bras√≠lia)<br />
                    <i class="bi bi-laptop"></i> Online via Google Meet
                  </p>
                </div>
                <div class="col-md-4 text-center">
                  <div class="countdown-timer">
                    <h6 class="mb-3">Come√ßa em:</h6>
                    <div id="countdown">
                      <div class="time-unit">
                        <span class="time-value" id="days">15</span>
                        <span class="time-label">Dias</span>
                      </div>
                      <div class="time-unit">
                        <span class="time-value" id="hours">23</span>
                        <span class="time-label">Horas</span>
                      </div>
                      <div class="time-unit">
                        <span class="time-value" id="minutes">45</span>
                        <span class="time-label">Min</span>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <button
                class="btn btn-warning btn-lg mt-3"
                onclick="inscreverEvento('Precifica√ß√£o Inteligente')"
              >
                <i class="bi bi-calendar-plus"></i> Inscrever-se Agora
              </button>
            </div>
            <div class="bg-white p-4" style="border-radius: 0 0 15px 15px">
              <h5 class="fw-bold mb-3">Sobre o Evento</h5>
              <p class="text-muted">
                Aprenda a calcular o pre√ßo ideal para seus produtos ou servi√ßos!
                Neste workshop, voc√™ descobrir√° como precificar de forma
                estrat√©gica, considerando custos, margem de lucro e valor
                percebido pelo cliente.
              </p>
              <h6 class="fw-bold mt-4 mb-3">O que voc√™ vai aprender:</h6>
              <ul class="text-muted">
                <li>Como calcular todos os custos do seu produto/servi√ßo</li>
                <li>Definir margem de lucro adequada</li>
                <li>Estrat√©gias de precifica√ß√£o competitiva</li>
                <li>Quando e como fazer promo√ß√µes sem preju√≠zo</li>
              </ul>
              <div class="d-flex align-items-center mt-4">
                <div class="me-3">
                  <div
                    style="
                      width: 60px;
                      height: 60px;
                      border-radius: 50%;
                      background: linear-gradient(
                        135deg,
                        #667eea 0%,
                        #764ba2 100%
                      );
                      display: flex;
                      align-items: center;
                      justify-content: center;
                      color: white;
                      font-weight: bold;
                      font-size: 1.5rem;
                    "
                  >
                    CA
                  </div>
                </div>
                <div>
                  <h6 class="fw-bold mb-0">Carla Almeida</h6>
                  <small class="text-muted"
                    >Especialista em Gest√£o Financeira</small
                  >
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Calend√°rio e Lista de Eventos -->
    <section class="py-5 bg-light">
      <div class="container">
        <h3 class="fw-bold mb-4 text-center">Calend√°rio de Eventos</h3>

        <div class="row g-4">
          <!-- Calend√°rio -->
          <div class="col-lg-5">
            <div class="calendar-container">
              <div class="calendar-header">
                <button
                  class="btn btn-sm btn-outline-primary"
                  id="prevMonth"
                  aria-label="M√™s anterior"
                >
                  <i class="bi bi-chevron-left"></i>
                </button>
                <h5 class="fw-bold mb-0" id="currentMonth">Novembro 2025</h5>
                <button
                  class="btn btn-sm btn-outline-primary"
                  id="nextMonth"
                  aria-label="Pr√≥ximo m√™s"
                >
                  <i class="bi bi-chevron-right"></i>
                </button>
              </div>

              <div class="calendar-weekdays">
                <div class="weekday">Dom</div>
                <div class="weekday">Seg</div>
                <div class="weekday">Ter</div>
                <div class="weekday">Qua</div>
                <div class="weekday">Qui</div>
                <div class="weekday">Sex</div>
                <div class="weekday">S√°b</div>
              </div>

              <div class="calendar-grid" id="calendarDays">
                <!-- Dias ser√£o gerados via JS -->
              </div>

              <div class="mt-3">
                <small class="text-muted">
                  <span class="badge bg-primary">‚óè</span> Dia com evento
                </small>
              </div>
            </div>
          </div>

          <!-- Lista de Eventos -->
          <div class="col-lg-7">
            <div id="listaEventos">
              <!-- Eventos ser√£o carregados via JS -->
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer class="bg-dark text-white py-5">
      <div class="container">
        <div class="row g-4">
          <div class="col-md-4">
            <h5 class="fw-bold mb-3 text-white">
              Rede NAVE
            </h5>
            <p style="color: var(--texto_color_1)">
              Empoderando mulheres empreendedoras atrav√©s da educa√ß√£o e
              capacita√ß√£o profissional.
            </p>
            <div class="social-links mt-3">
              <a href="#" class="text-white me-3" title="Facebook"
                ><i class="bi bi-facebook fs-4"></i
              ></a>
              <a href="#" class="text-white me-3" title="Instagram"
                ><i class="bi bi-instagram fs-4"></i
              ></a>
              <a href="#" class="text-white me-3" title="LinkedIn"
                ><i class="bi bi-linkedin fs-4"></i
              ></a>
              <a href="#" class="text-white" title="YouTube"
                ><i class="bi bi-youtube fs-4"></i
              ></a>
            </div>
          </div>
          <div class="col-md-2">
            <h6 class="fw-bold mb-3 text-white">Menu</h6>
            <ul class="list-unstyled">
              <li class="mb-2">
                <a
                  href="../index.html"
                  class="text-decoration-none"
                  style="color: var(--texto_color_1)"
                  >In√≠cio</a
                >
              </li>
              <li class="mb-2">
                <a
                  href="trilhas.html"
                  class="text-decoration-none"
                  style="color: var(--texto_color_1)"
                  >Trilhas</a
                >
              </li>
              <li class="mb-2">
                <a
                  href="eventos.html"
                  class="text-decoration-none"
                  style="color: var(--texto_color_1)"
                  >Eventos</a
                >
              </li>
              <li class="mb-2">
                <a
                  href="sobre.html"
                  class="text-decoration-none"
                  style="color: var(--texto_color_1)"
                  >Sobre</a
                >
              </li>
            </ul>
          </div>
          <div class="col-md-3">
            <h6 class="fw-bold mb-3 text-white">Suporte</h6>
            <ul class="list-unstyled">
              <li class="mb-2">
                <a
                  href="suporte.html"
                  class="text-decoration-none"
                  style="color: var(--texto_color_1)"
                  >Perguntas Frequentes</a
                >
              </li>
              <li class="mb-2">
                <a
                  href="suporte.html#contato"
                  class="text-decoration-none"
                  style="color: var(--texto_color_1)"
                  >Contato</a
                >
              </li>
              <li class="mb-2">
                <a
                  href="suporte.html"
                  class="text-decoration-none"
                  style="color: var(--texto_color_1)"
                  >Central de Ajuda</a
                >
              </li>
            </ul>
          </div>
          <div class="col-md-3">
            <h6 class="fw-bold mb-3 text-white">Contato</h6>
            <ul class="list-unstyled">
              <li class="mb-2" style="color: var(--texto_color_1)">
                <i class="bi bi-envelope"></i> contato@redenave.org
              </li>
              <li class="mb-2" style="color: var(--texto_color_1)">
                <i class="bi bi-telephone"></i> (11) 98765-4321
              </li>
              <li class="mb-2">
                <a
                  href="https://wa.me/5511987654321"
                  class="text-decoration-none"
                  style="color: var(--whatsapp-color)"
                  target="_blank"
                >
                  <i class="bi bi-whatsapp"></i> WhatsApp Suporte
                </a>
              </li>
            </ul>
          </div>
        </div>
        <hr class="my-4">
        <div class="text-center text-white">
          <p class="mb-0">
            &copy; 2025 Rede NAVE. Todos os direitos reservados.
          </p>
        </div>
      </div>
    </footer>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"></script>

    <script>
      // ==================== CONFIGURA√á√ÉO ====================
      const MESES = [
        "Janeiro", "Fevereiro", "Mar√ßo", "Abril", "Maio", "Junho",
        "Julho", "Agosto", "Setembro", "Outubro", "Novembro", "Dezembro"
      ];

      // Dados dos eventos (com formato de data melhorado)
      const eventos = [
        {
          id: 1,
          titulo: "Workshop: Precifica√ß√£o Inteligente",
          tipo: "Workshop",
          data: new Date(2025, 10, 15), // JS usa 0-11 para meses
          hora: "19:00",
          duracao: "2h",
          vagas: 30,
          inscricoes: 23,
          modalidade: "Online",
          instrutor: "Carla Almeida",
        },
        {
          id: 2,
          titulo: "Feira de Empreendedoras NAVE",
          tipo: "Feira",
          data: new Date(2025, 10, 20),
          hora: "09:00",
          duracao: "8h",
          vagas: 50,
          inscricoes: 45,
          modalidade: "Presencial",
          local: "Centro Cultural, S√£o Paulo",
        },
        {
          id: 3,
          titulo: "Live: Instagram para Vendas",
          tipo: "Live",
          data: new Date(2025, 10, 25),
          hora: "20:00",
          duracao: "1h30",
          vagas: 100,
          inscricoes: 78,
          modalidade: "YouTube",
          instrutor: "Ana Paula Souza",
        },
        {
          id: 4,
          titulo: "Workshop: Gest√£o de Tempo",
          tipo: "Workshop",
          data: new Date(2025, 10, 28),
          hora: "18:00",
          duracao: "2h",
          vagas: 25,
          inscricoes: 12,
          modalidade: "Online",
        },
        {
          id: 5,
          titulo: "Mentoria: Planejamento 2026",
          tipo: "Mentoria",
          data: new Date(2025, 11, 5),
          hora: "14:00",
          duracao: "3h",
          vagas: 15,
          inscricoes: 8,
          modalidade: "H√≠brido",
        },
      ];

      // ==================== ESTADO GLOBAL ====================
      let currentDate = new Date(2025, 10, 1); // Novembro 2025
      let selectedDate = null;
      let filtroAtivo = "todos";

      // ==================== FUN√á√ïES UTILIT√ÅRIAS ====================
      /**
       * Formata data no formato DD/MM/YYYY
       */
      function formatarData(date) {
        const dia = String(date.getDate()).padStart(2, '0');
        const mes = String(date.getMonth() + 1).padStart(2, '0');
        const ano = date.getFullYear();
        return `${dia}/${mes}/${ano}`;
      }

      /**
       * Retorna eventos de uma data espec√≠fica
       */
      function getEventosDaData(date) {
        return eventos.filter(evento => 
          evento.data.getDate() === date.getDate() &&
          evento.data.getMonth() === date.getMonth() &&
          evento.data.getFullYear() === date.getFullYear()
        );
      }

      /**
       * Retorna eventos filtrados por tipo
       */
      function getEventosFiltrados() {
        if (filtroAtivo === "todos") return eventos;
        return eventos.filter(evento => evento.tipo === filtroAtivo);
      }

      // ==================== CALEND√ÅRIO ====================
      /**
       * Gera e renderiza o calend√°rio para o m√™s atual
       */
      function gerarCalendario() {
        const calendarDays = document.getElementById("calendarDays");
        const currentMonth = document.getElementById("currentMonth");
        
        calendarDays.innerHTML = "";

        // Atualizar header
        const ano = currentDate.getFullYear();
        const mesIndex = currentDate.getMonth();
        currentMonth.textContent = `${MESES[mesIndex]} ${ano}`;

        // Primeiro dia do m√™s e √∫ltima data
        const primeiroDia = new Date(ano, mesIndex, 1).getDay();
        const ultimodia = new Date(ano, mesIndex + 1, 0).getDate();

        // Dias do m√™s anterior (desabilitados)
        const diasMesAnterior = new Date(ano, mesIndex, 0).getDate();
        for (let i = primeiroDia - 1; i >= 0; i--) {
          const dia = diasMesAnterior - i;
          criarElementoDia(calendarDays, dia, true, new Date(ano, mesIndex - 1, dia));
        }

        // Dias do m√™s atual
        for (let dia = 1; dia <= ultimodia; dia++) {
          const data = new Date(ano, mesIndex, dia);
          criarElementoDia(calendarDays, dia, false, data);
        }

        // Dias do pr√≥ximo m√™s (desabilitados)
        const totalCelulas = calendarDays.children.length + (42 - (primeiroDia + ultimodia));
        for (let dia = 1; totalCelulas - calendarDays.children.length > 0; dia++) {
          const data = new Date(ano, mesIndex + 1, dia);
          criarElementoDia(calendarDays, dia, true, data);
        }
      }

      /**
       * Cria elemento do dia no calend√°rio
       */
      function criarElementoDia(container, dia, desabilitado, data) {
        const element = document.createElement("div");
        element.className = "calendar-day";
        element.textContent = dia;

        if (desabilitado) {
          element.classList.add("disabled");
        } else {
          // Verificar se tem eventos
          const temEventos = getEventosDaData(data).length > 0;
          if (temEventos) {
            element.classList.add("has-event");
          }

          // Verificar se √© hoje
          const hoje = new Date();
          if (
            data.getDate() === hoje.getDate() &&
            data.getMonth() === hoje.getMonth() &&
            data.getFullYear() === hoje.getFullYear()
          ) {
            element.classList.add("today");
          }

          // Verificar se est√° selecionado
          if (selectedDate && data.getTime() === selectedDate.getTime()) {
            element.classList.add("active");
          }

          // Event listener para clicar no dia
          element.addEventListener("click", () => selecionarData(data));
        }

        container.appendChild(element);
      }

      /**
       * Seleciona uma data e atualiza a lista de eventos
       */
      function selecionarData(date) {
        selectedDate = date;
        filtroAtivo = "todos"; // Reset filtro ao selecionar data
        gerarCalendario();
        renderizarEventosDaData(date);
      }

      /**
       * Navega entre meses
       */
      function navegarMes(direcao) {
        currentDate.setMonth(currentDate.getMonth() + direcao);
        selectedDate = null; // Reset sele√ß√£o ao navegar
        gerarCalendario();
        renderizarEventos(); // Mostrar todos os eventos do novo m√™s
      }

      // ==================== EVENTOS ====================
      /**
       * Renderiza eventos filtrados ou de uma data espec√≠fica
       */
      function renderizarEventosDaData(date) {
        const container = document.getElementById("listaEventos");
        const eventosDaData = getEventosDaData(date);

        container.innerHTML = "";

        if (eventosDaData.length === 0) {
          container.innerHTML = `
            <div class="text-center py-5">
              <i class="bi bi-calendar-x display-1 text-muted"></i>
              <p class="text-muted mt-3">Nenhum evento em ${formatarData(date)}</p>
              <button class="btn btn-outline-primary btn-sm" onclick="limparSelecao()">
                Ver todos os eventos
              </button>
            </div>
          `;
          return;
        }

        eventosDaData.forEach(evento => criarCartaoEvento(container, evento));
      }

      /**
       * Renderiza eventos conforme filtro ativo
       */
      function renderizarEventos() {
        const container = document.getElementById("listaEventos");
        const eventosFiltrados = getEventosFiltrados();

        container.innerHTML = "";

        if (eventosFiltrados.length === 0) {
          container.innerHTML = `
            <div class="text-center py-5">
              <i class="bi bi-calendar-x display-1 text-muted"></i>
              <p class="text-muted mt-3">Nenhum evento encontrado nesta categoria.</p>
            </div>
          `;
          return;
        }

        eventosFiltrados.forEach(evento => criarCartaoEvento(container, evento));
      }

      /**
       * Cria cart√£o do evento
       */
      function criarCartaoEvento(container, evento) {
        const vagasRestantes = evento.vagas - evento.inscricoes;
        const percentual = (evento.inscricoes / evento.vagas) * 100;
        const dataFormatada = formatarData(evento.data);
        const [dia] = dataFormatada.split('/');

        const card = `
          <div class="card mb-3 event-detail-card">
            <div class="card-body">
              <div class="row align-items-center">
                <div class="col-md-2 text-center">
                  <div class="bg-primary text-white p-3 rounded">
                    <div style="font-size: 2rem; font-weight: bold;">${dia}</div>
                    <div>${MESES[evento.data.getMonth()].toUpperCase().slice(0, 3)}</div>
                  </div>
                </div>
                <div class="col-md-7">
                  <span class="badge bg-info mb-2">${evento.tipo}</span>
                  <h5 class="fw-bold mb-2">${evento.titulo}</h5>
                  <p class="text-muted mb-2 small">
                    <i class="bi bi-clock"></i> ${evento.hora} - ${evento.duracao} |
                    <i class="bi bi-laptop"></i> ${evento.modalidade}
                  </p>
                  <div class="progress" style="height: 5px;">
                    <div class="progress-bar bg-success" style="width: ${percentual}%"></div>
                  </div>
                  <small class="text-muted">${evento.inscricoes}/${evento.vagas} inscritos</small>
                </div>
                <div class="col-md-3 text-end">
                  <button class="btn btn-primary btn-sm w-100" onclick="inscreverEvento('${evento.titulo.replace(/'/g, "\\'")}')">
                    <i class="bi bi-calendar-plus"></i> Inscrever
                  </button>
                  ${vagasRestantes <= 5 ? '<small class="text-danger d-block mt-2">√öltimas vagas!</small>' : ''}
                </div>
              </div>
            </div>
          </div>
        `;

        container.innerHTML += card;
      }

      /**
       * Filtra eventos por tipo
       */
      function filtrarEventos(tipo) {
        const tabs = document.querySelectorAll("#eventosTabs .nav-link");
        tabs.forEach(tab => tab.classList.remove("active"));
        event.target.classList.add("active");

        filtroAtivo = tipo;
        selectedDate = null;
        gerarCalendario();
        renderizarEventos();
      }

      /**
       * Limpa sele√ß√£o e mostra todos os eventos
       */
      function limparSelecao() {
        selectedDate = null;
        filtroAtivo = "todos";
        gerarCalendario();
        renderizarEventos();
      }

      /**
       * Inscri√ß√£o em evento
       */
      function inscreverEvento(titulo) {
        alert(`Inscri√ß√£o realizada com sucesso no evento:\n"${titulo}"\n\nVoc√™ receber√° um e-mail de confirma√ß√£o em breve.`);
      }

      // ==================== INICIALIZA√á√ÉO ====================
      document.addEventListener("DOMContentLoaded", () => {
        // Gerar calend√°rio inicial
        gerarCalendario();
        renderizarEventos();

        // Listeners dos bot√µes de navega√ß√£o
        document.getElementById("prevMonth").addEventListener("click", () => navegarMes(-1));
        document.getElementById("nextMonth").addEventListener("click", () => navegarMes(1));
      });
    </script>
  </body>
</html>
